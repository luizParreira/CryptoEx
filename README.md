# CryptoEx

This app implements the 3 views:

1. OrderBook view, to display the 20 first orders of the order book queue;
2. Trades view, the trades generated by these orders of the order book;
3. Trade view, the view demonstrating details on each trade;

## Building the app

The app is a React Native app, so, in order to be able to build it, follow the instructions layed out on react-native's [getting started](https://facebook.github.io/react-native/docs/getting-started.html) page. Make sure to select the `Building Projects with Native Code` tab.

### iOS

1. Clone this repo and `cd` into the path
2. Install dependencies: `yarn install`
3. Run app: `yarn start:ios`

### Android

In order for the app to work on Android, one has to replace the constant `LOCAL_IP_ADDRESS` with his/her own local address. This is due to Android not accepting `localhost` requests.

1. Clone this repo and `cd` into the path
2. Install dependencies: `yarn install`
3. Open Android Studio with the project
4. Make sure you have a device created on the Device Manager, if you don't have, create one.
5. Open the simulator through the Device Manager.
6. Once the simulator is successfully running
7. Start android: `yarn start:android`

## Configurations

All the app's current configurations are set on `src/state/orders/constants.js`.

## Running tests

For this app, I have only written unit tests, testing the logic of the state and snapshot tests covering some of the main views.

```
# To run tests (from the projects root path):
$ yarn test
```

## Architecture

In order to fullfill all the obligations for the task, there needed to be a way to constantly fetch new transactions and a way to constantly match those transactions. To match those needs, I implemented a way to subscribe to `setInterval` on a given time and dispatch the action that would execute one of those side effects.

### Side Effects

In order to deal with side effects, I use the library `redux-loop`, which manages the execution of functions with side effect basing itself on the command pattern, a pattern used by Elm.

### Selectors

In order to expose data to react components, I use selectors, created through `reselect`. These selectors are responsible for not only mapping the states data to the view's necessary data structure, but also, formats the raw data into the format the view will be displaying for the user. The choice to add the formatting to this step is to be able to test the formatting behaviour together with the store.
